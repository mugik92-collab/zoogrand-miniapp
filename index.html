<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ZooGrand73</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body{
    margin:0;
    font-family:system-ui;
    background:#f6f7f9;
}
header{
    background:linear-gradient(135deg,#ff9800,#ffb347);
    color:#fff;
    padding:14px;
    text-align:center;
    font-size:1.4rem;
    font-weight:800;
}
.container{padding:14px;padding-bottom:160px}

.banner{
    height:220px;
    border-radius:0 0 22px 22px;
    background:url("https://images.unsplash.com/photo-1601758123927-196ea9f3b2f5") center/cover;
    box-shadow:0 8px 25px #0003;
    display:flex;
    align-items:center;
    justify-content:center;
    color:#fff;
    text-align:center;
}
.banner h1{font-size:2rem;text-shadow:0 4px 12px #000}

.categories{
    display:flex;
    gap:14px;
    justify-content:center;
    margin-top:20px;
}
.cat{
    background:#fff;
    width:110px;
    border-radius:18px;
    text-align:center;
    padding:14px;
    box-shadow:0 6px 20px #0002;
    cursor:pointer;
}
.cat img{
    width:60px;
    height:60px;
    object-fit:cover;
    border-radius:50%;
    margin-bottom:6px;
}

.hidden{display:none}

.card{
    background:#fff;
    padding:14px;
    border-radius:18px;
    margin-bottom:12px;
    box-shadow:0 6px 20px #0002;
}

button{
    background:#ff9800;
    border:none;
    color:#fff;
    padding:10px 14px;
    border-radius:12px;
    font-weight:700;
    cursor:pointer;
}

input,textarea,select{
    width:100%;
    padding:10px;
    border-radius:12px;
    border:1px solid #ddd;
    margin-bottom:8px;
}

#cart-bar{
    position:fixed;
    bottom:0;
    left:0;
    right:0;
    background:linear-gradient(135deg,#ff9800,#ffb347);
    color:#fff;
    padding:14px;
    border-radius:20px 20px 0 0;
    box-shadow:0 -8px 20px #0003;
    z-index:100;
}
</style>
</head>

<body>

<header>ZooGrand73 ‚Ä¢ –£–ª—å—è–Ω–æ–≤—Å–∫</header>

<div class="container">

<div class="banner">
    <h1>–°—á–∞—Å—Ç–ª–∏–≤—ã–µ –ø–∏—Ç–æ–º—Ü—ã<br>‚Äî —Å—á–∞—Å—Ç–ª–∏–≤–∞—è —Å–µ–º—å—è üêæ</h1>
</div>

<div id="main">
    <div class="categories">
        <div class="cat" onclick="openCat('–õ–µ–∂–∞–Ω–∫–∏')">
            <img src="https://cdn-icons-png.flaticon.com/512/616/616430.png">
            –õ–µ–∂–∞–Ω–∫–∏
        </div>
        <div class="cat" onclick="openCat('–ü–µ—Ä–µ–¥–µ—Ä–∂–∫–∞')">
            <img src="https://cdn-icons-png.flaticon.com/512/194/194279.png">
            –ü–µ—Ä–µ–¥–µ—Ä–∂–∫–∞
        </div>
        <div class="cat" onclick="openCat('–í–∫—É—Å–Ω—è—à–∫–∏')">
            <img src="https://cdn-icons-png.flaticon.com/512/616/616408.png">
            –í–∫—É—Å–Ω—è—à–∫–∏
        </div>
    </div>
</div>

<div id="catalog" class="hidden">
    <button onclick="back()">‚Üê –ù–∞–∑–∞–¥</button>
    <h2 id="title"></h2>
    <div id="items"></div>

    <h3>üêï –î–∞–Ω–Ω—ã–µ –ø–∏—Ç–æ–º—Ü–∞</h3>
    <input id="petName" placeholder="–ö–ª–∏—á–∫–∞">
    <input id="petBreed" placeholder="–ü–æ—Ä–æ–¥–∞">

    <h3>üè† –ê–¥—Ä–µ—Å</h3>
    <input id="address" placeholder="–ê–¥—Ä–µ—Å">

    <h3>üìÖ –ü–µ—Ä–µ–¥–µ—Ä–∂–∫–∞</h3>
    <input type="date" id="startDate">
    <input type="number" id="days" placeholder="–ö–æ–ª-–≤–æ —Å—É—Ç–æ–∫">
    <div style="display:flex;gap:6px">
        <input type="time" id="checkIn">
        <input type="time" id="checkOut">
    </div>

    <h3>üßæ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</h3>
    <textarea id="comment"></textarea>
</div>

</div>

<div id="cart-bar" class="hidden">
    üõí –í –∫–æ—Ä–∑–∏–Ω–µ: <b id="cartTotal">0 ‚ÇΩ</b>
</div>

<script>
const tg = window.Telegram.WebApp;
tg.ready(); tg.expand();

tg.MainButton.setText("üõí –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑");
tg.MainButton.color="#ffffff";
tg.MainButton.textColor="#ff9800";

let cart=[];

const data={
    "–õ–µ–∂–∞–Ω–∫–∏":[
        {n:"–õ–µ–∂–∞–Ω–∫–∞ –≠–∫–æ–Ω–æ–º",p:800},
        {n:"–õ–µ–∂–∞–Ω–∫–∞ –ü—Ä–µ–º–∏—É–º",p:1500}
    ],
    "–ü–µ—Ä–µ–¥–µ—Ä–∂–∫–∞":[
        {n:"–ü–µ—Ä–µ–¥–µ—Ä–∂–∫–∞ (—Å—É—Ç–∫–∏)",p:1200}
    ],
    "–í–∫—É—Å–Ω—è—à–∫–∏":[
        {n:"–õ–µ–≥–∫–æ–µ –≥–æ–≤—è–∂—å–µ",p:100},
        {n:"–†—É–±–µ—Ü –≥–æ–≤—è–∂–∏–π",p:100}
    ]
};

function openCat(c){
    main.classList.add("hidden");
    catalog.classList.remove("hidden");
    title.innerText=c;
    items.innerHTML="";
    data[c].forEach(i=>{
        let el=document.createElement("div");
        el.className="card";

        if(c==="–í–∫—É—Å–Ω—è—à–∫–∏"){
            el.innerHTML=`
                <b>${i.n}</b>
                <select onchange="addTreat('${i.n}',${i.p},this.value)">
                    <option>100</option>
                    <option>250</option>
                    <option>500</option>
                </select>`;
        }else{
            el.innerHTML=`<b>${i.n}</b><br>${i.p} ‚ÇΩ
            <button onclick="add('${i.n}',${i.p},'${c}')">–í –∫–æ—Ä–∑–∏–Ω—É</button>`;
        }
        items.appendChild(el);
    });
}

function add(n,p,c){
    cart.push({n,p,c});
    update();
}

function addTreat(n,p,g){
    cart.push({n:`${n} (${g} –≥)`,p:p*(g/100),c:"–í–∫—É—Å–Ω—è—à–∫–∏"});
    update();
}

function update(){
    let total=cart.reduce((s,i)=>s+i.p,0);
    let days=parseInt(days?.value||0);
    if(days>10) total*=0.9;
    cartTotal.innerText=Math.round(total)+" ‚ÇΩ";
    cartBar.classList.remove("hidden");
    tg.MainButton.show();
}

tg.MainButton.onClick(()=>{
    let text=`üêæ –ù–û–í–´–ô –ó–ê–ö–ê–ó ZooGrand73\n\n`;
    cart.forEach((i,idx)=>text+=`${idx+1}. ${i.n} ‚Äî ${i.p} ‚ÇΩ\n`);
    text+=`\nüêï ${petName.value} (${petBreed.value})
üè† ${address.value}
üìÖ ${startDate.value} | ${days.value} —Å—É—Ç–æ–∫
‚è∞ ${checkIn.value} ‚Äì ${checkOut.value}
üí¨ ${comment.value}`;
    tg.sendData(text);
});
</script>

</body>
</html>
